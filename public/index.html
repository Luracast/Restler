<!DOCTYPE html>
<html>
<head>
<title>Luracast Restler  Index</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="examples/resources/highlight.css">
<link rel="stylesheet" type="text/css" href="examples/resources/style.css"/>
<link rel="stylesheet" type="text/css" href="examples/resources/wakasann.css"/>
<script src="examples/resources/highlight.pack.js"></script>
<script type="text/javascript" src="examples/resources/jquery-1.7.2.min.js"></script>

<script type="text/javascript">
  hljs.initHighlightingOnLoad();
</script>

<script type="text/javascript">
var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23777019-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<nav class="floating-menu">
<ul>
<li><a title="Restler 首页" target="_blank" href="http://luracast.com/products/restler/"><img src="examples/resources/home.png" width="16" height="16"/>&nbsp;&nbsp;首页</a></li>
<li><a class="active" title="快速入门Restler" href="index.html#luracast-restler"><img src="examples/resources/quickstart.png" width="16" height="16"/>&nbsp;&nbsp;开始</a></li>
<li><a title="案例" href="examples/index.html"><img src="examples/resources/examples.png" width="16" height="16"/> 案例</a></li>
<li><a title="在Stack Overflow通过回答别人的问题来分享你的知识." target="_blank" href="http://stackoverflow.com/search?q=php+restler"><img src="examples/resources/stackoverflow.png" width="16" height="16"/> 支持</a></li>
<li><a title="在github上面复制一份Reslter并发表你的意见" target="_blank" href="https://github.com/Luracast/Restler"><img src="examples/resources/github.png" width="16" height="16"/>&nbsp;&nbsp;源码</a></li>
<li><a title="在Twitter上面获取更新" target="_blank" href="http://twitter.com/Luracast"><img src="examples/resources/twitter.png" width="16" height="16"/>&nbsp;&nbsp;更新</a></li>
<li><a title="在facebook 上面保存联系" target="_blank" href="https://www.facebook.com/Luracast"><img src="examples/resources/facebook.png" width="16" height="16"/>&nbsp;&nbsp;联系我</a></li>
</ul>
</nav>
<nav id="left">
        <img src="examples/resources/Restler3.gif" width="126"
            height="126" title="Luracast Restler " />
        <h3>
            <a href="index.html#luracast-restler">快速入门</a>
        </h3>
        <ul>
            <li><a href="index.html#features" title="特点列表">特点</a></li>
            <li><a href="index.html#git-repository-and-the-branches" title="Git版本和分支">分支</a></li>
            <li><a href="index.html#installation" title="安装">安装</a></li>
            <li><a href="index.html#quick-start-guide" title="快速入门">开始</a></li>
            <li><a href="index.html#change-log" title="有哪些更新呢?">更改日志</a></li>
            <li><a href="annotations.html#supported-annotations" title="注解">注解</a>
                <ul><li><a href="annotations.html#url" title="注解 - @url">@url</a></li></ul>
                <ul><li><a href="annotations.html#access" title="注解 - @access">@access</a></li></ul>
                <ul><li><a href="annotations.html#smart-auto-routing" title="注解 - @smart-auto-routing">@smart-auto...</a></li></ul>
                <ul><li><a href="annotations.html#class" title="注解 - @class">@class</a></li></ul>
                <ul><li><a href="annotations.html#cache" title="注解 - @cache">@cache</a></li></ul>
                <ul><li><a href="annotations.html#expires" title="注解 - @expires">@expires</a></li></ul>
                <ul><li><a href="annotations.html#throttle" title="注解 - @throttle">@throttle</a></li></ul>
                <ul><li><a href="annotations.html#status" title="注解 - @status">@status</a></li></ul>
                <ul><li><a href="annotations.html#header" title="注解 - @header">@header</a></li></ul>
                <ul><li><a href="annotations.html#param" title="注解 - @param">@param</a></li></ul>
                <ul><li><a href="annotations.html#throws" title="注解 - @throws">@throws</a></li></ul>
                <ul><li><a href="annotations.html#return" title="注解 - @return">@return</a></li></ul>
                <ul><li><a href="annotations.html#var" title="注解 - @var">@var</a></li></ul>
                <ul><li><a href="annotations.html#format" title="注解 - @format">@format</a></li></ul>
                <ul><li><a href="annotations.html#view" title="注解 - @view">@view</a></li></ul>
                <ul><li><a href="annotations.html#errorview" title="注解 - @errorView">@errorView</a></li></ul>
            </li>
            <li><a href="forms.html#forms" title="表单">Form表单</a>
                <ul><li><a href="forms.html#label" title="表单 - @label">@label</a></li></ul>
                <ul><li><a href="forms.html#field" title="表单 - @field">@field</a></li></ul>
                <ul><li><a href="forms.html#message" title="表单 - @message">@message</a></li></ul>
                <ul><li><a href="forms.html#form" title="表单 - @form">@form</a></li></ul>
                <ul><li><a href="forms.html#input" title="表单 - @input">@input</a></li></ul>
                <ul><li><a href="forms.html#textarea" title="表单 - @textarea">@textarea</a></li></ul>
                <ul><li><a href="forms.html#radio" title="表单 - @radio">@radio</a></li></ul>
                <ul><li><a href="forms.html#select" title="表单 - @select">@select</a></li></ul>
                <ul><li><a href="forms.html#submit" title="表单 - @submit">@submit</a></li></ul>
                <ul><li><a href="forms.html#fieldset" title="表单 - @fieldset">@fieldset</a></li></ul>
            </li>
            <li><a href="param.html#param-and--var" title="@param and @var">参数</a>
                <ul><li><a href="param.html#from" title="参数 - @from">@from</a></li></ul>
                <ul><li><a href="param.html#type" title="参数- @type">@type</a></li></ul>
                <ul><li><a href="param.html#choice" title="参数 - @choice">@choice</a></li></ul>
                <ul><li><a href="param.html#min----max" title="参数 - @min & @max">@min & @max</a></li></ul>
                <ul><li><a href="param.html#fix" title="参数 - @fix">@fix</a></li></ul>
                <ul><li><a href="param.html#pattern" title="参数 - @pattern">@pattern</a></li></ul>
                <ul><li><a href="param.html#message" title="参数 - @message">@message</a></li></ul>
                <ul><li><a href="param.html#example" title="参数 - @example">@example</a></li></ul>
            </li>

        </ul>
    </nav>
<article>

<p><a id="luracast-restler" class="anchor"></a></p>
<h1>
<img src="examples/resources/Restler.png" alt="Restler"> Luracast Restler</h1>

<p><a href="https://packagist.org/packages/luracast/restler" target="_blank"><img src="https://poser.pugx.org/luracast/restler/v/stable.png" alt="Latest Stable Version"></a> <a href="https://packagist.org/packages/luracast/restler" target="_blank"><img src="https://poser.pugx.org/luracast/restler/downloads.png" alt="Total Downloads"></a> <a href="https://packagist.org/packages/luracast/restler" target="_blank"><img src="https://poser.pugx.org/luracast/restler/v/unstable.png" alt="Latest Unstable Version"></a> <a href="https://packagist.org/packages/luracast/restler" target="_blank"><img src="https://poser.pugx.org/luracast/restler/license.png" alt="License"></a></p>

<p><a id="version-3-0-release-candidate-5" class="anchor"></a></p>
<h3>版本3.5(版本3.0候选发布版本5)</h3>
<p>Restler 是PHP语言编写，一个简单有效,支持多种返回格式的Web API服务.</p>
<p>你只需要处理你的php业务逻辑,reslter会处理好REST部分!</p>
<blockquote>
  <p> 如果你的运行环境不能更新到 PHP  &gt;= 5.3.2，你可以使用<a href="https://github.com/Luracast/Restler/tree/v2" target="_blank">Restler 2</a> 代替</p>
</blockquote>

<p><a id="restler-3----better-apis-by-design" class="anchor"></a></p>
<h3>Restler 3 - <em>Better APIs by Design</em>
</h3>

<ul>
<li><a href="http://luracast.com/products/restler/" target="_blank">开发者首页</a></li>
<li><a href="http://restler3.luracast.com/examples/" target="_blank">在线案例</a></li>
<li>在 <a href="https://www.facebook.com/Luracast" target="_blank">Facebook</a> 和 <a href="http://twitter.com/Luracast" target="_blank">Twitter </a>上更新
</li>
<li><a href="#features" >特点</a></li>
<li><a href="#installation" >安装</a></li>
<li><a href="#quick-start-guide">快速入门指南</a></li>
<li><a href="#change-log" >变更记录</a></li>
</ul>
<p><a id="features" class="anchor"></a></p>
<h2>特点</h2>

<ul>
<li>没有学习曲线</li>
<li>轻量级</li>
<li>灵活</li>
<li>高度满足顾客/用户的个性化要求(也可以简称为:高定制)</li>
<li>大量的案例在你的本地中，你可以尝试跟着案例开始</li>
<li>支持HTTP请求方式包括: HEAD, GET, POST, PUT, DELETE, OPTIONS and PATCH 通过头部信息或者请求参数(方法)</li>
<li>支持RESTful和Pragmatic风格的REST接口设计</li>
<li>客户端可以通过"X-HTTP-Method-Override"来覆盖HTTP头信息,支持跨域资源共享和JSONP</li>
<li>双向格式（媒体类型）转换同时发送和接收

<ul>
<li>可插拔的内容格式化的框架和API</li>
<li>自带的JSON，XML，Yaml，Amf和Plist（XML和二进制）格式的支持</li>
</ul>
</li>
<li>可插拔的身份验证方案

<ul>
<li>OAuth的2服务器</li>
</ul>
</li>
<li>可插拔的过滤器能够有效地管理API使用

<ul>
<li>API速率限制过滤器</li>
</ul>
</li>
<li>路由

<ul>
<li>手动路由(注解) 

<ul>
<li>使用 <code>@url GET my/custom/url/{param}</code> PHPDoc 注解</li>
</ul>
</li>
<li>自动路由 (反射)

<ul>
<li>URL与方法映射</li>
<li>URL与方法参数映射</li>
<li>查询参数与方法参数映射</li>
<li>请求Body与方法参数映射</li>
<li>
<code>[planned]</code> Header 与方法参数映射</li>
</ul>
</li>
</ul>
</li>
<li>内置缓存

<ul>
<li>支持Client side缓存</li>
<li>支持代理缓存</li>
<li>Server side缓存

<ul>
<li>
<code>[planned]</code> <a href="http://zh.wikipedia.org/wiki/HTTP_ETag" title="HTTP ETag - 维基百科" target="_blank">ETag</a>, If-None-Match 支持</li>
<li>
<code>[planned]</code> <a href="http://t.cn/RZXqMcm" title="Last-Modified 百度百科" target="_blank">Last-Modified</a>, If-Modified-Since 支持</li>
</ul>
</li>
</ul>
</li>
<li>API 特点

<ul>
<li>简化输入始终支持URLEncoded 格式(POST vars)</li>
<li>自动参数验证和类型转换</li>
<li>API版本支持通过URL and/or 针对各种MIME(翻译有问题:API versioning support by URL and/or vendor specific MIME)</li>
<li>API文档和显示数据使用<a href="https://github.com/Luracast/Restler-API-Explorer" target="_blank" title="Reslter API Explorer">Restler API Explorer</a>
</li>
<li>节流和效率高</li>
</ul>
</li>
<li>管理

<ul>
<li>
<code>[planned]</code> 单元测试使用 <a href="https://github.com/sebastianbergmann/phpunit/" target="_blank" title="PHPUnit">PHPUnit</a>
</li>
<li>API行为测试驱动开发(BDD)测试使用<a href="http://behat.org/" target="_blank" title="Behat">Behat</a>和<a href="https://github.com/guzzle/guzzle" target="_blank" title="Guzzle">Guzzle</a>
</li>
<li>命令行进行项目管理使用<a href="https://github.com/Respect/Foundation" target="_blank" title="Respect Foundation">Respect/Foundation</a>
</li>
<li>依赖管理使用<a href="http://getcomposer.org/" target="_blank" title="Composer 官网">Composer</a>
</li>
<li>源代码分布使用LGPL开源协议</li>
</ul>
</li>
</ul>
<p><a id="git-repository-and-the-branches" class="anchor"></a></p>
<h2>Git 版本库和分支</h2>

<ol>
<li><p>许多稳定版本和最近的版本都是在<code>master</code> 分支上进行维护, 以前的版本在像分支名称为
<code>v1</code>和 <code>v2</code>上进行维护</p></li>
<li><p>版本分支当前的版本名称,例如 <code>v3</code>是用于建立下一个发布版本.这个文档可能没有频繁的更新,因此胆大的将旧的文档一部分保留了下来.</p></li>
<li><p>推荐的分支例如 <code>../features/html</code> 和 <code>../features/router</code> 仅仅是
用于实验用途</p></li>
</ol>
<p><a id="installation" class="anchor"></a></p>
<h2>安装</h2>

<p>确保PHP 5.3.2 或者以上(推荐至少 5.3.4 避免潜在的错误) </p>

<p><a id="1--install-composer" class="anchor"></a></p>
<h3>1. 安装Composer</h3>

<p>Restler 使用<a href="http://getcomposer.org/" target="_blank" title="Composer">Composer</a>来管理它的依赖关系.
第一步, 下载一份<code>composer.phar</code>. 它能保持在你的项目文件夹中或者在理想情况下 <code>usr/local/bin</code> 使用它全局的管理你所有项目.如果你使用的是Windows, 你可以使用 composer
<a href="https://getcomposer.org/Composer-Setup.exe" target="_blank" title="Composer windows installer">windows installer</a> 代替.</p>

<p><a id="2--install-restler" class="anchor"></a></p>
<h3>2. 安装 Restler</h3>

<p><a id="option-1--using-composer-create-project" class="anchor"></a></p>
<h4>方法 1. 使用Composer创建项目(不太推荐,目前国内的速度很慢)</h4>

<p>你可以安装Reslter通过终端运行创建项目的命令.
替换 {projectName} 为你实际的项目名称. 它将创建一个名称一样的文件夹并安装Reslter.</p>

<pre><code class="console">php composer.phar create-project luracast/restler {projectName}
</code></pre>

<blockquote>
  <p><strong>注意:-</strong></p>
  
  <ol>
<li><p>如果你不需要附加的格式和行为测试驱动开发工具,你可以包含
  <code>--no-dev</code> 来实施排除开发工具包.</p></li>
  <li><p>如果你想尝试前沿的v3 分支 或者其它推荐的分支包含 <code>3.x-dev</code> 或者<code>dev-../features/html</code> 在上面的命令</p></li>
  </ol>
</blockquote>

<p><a id="option-2--downloading-from-github" class="anchor"></a></p>
<h4>方法2. 在github下载Restler</h4>

<p>曾经安装过Composer, 下载Restler 框架的<a href="" target="_blank">最后版本</a>，将它解压在你的服务器的一个目录上. 接下来,进入你的Restler项目根目录, 运行<code>php composer.phar install</code>
(或者 <code>composer install</code>) 命令来安装Restler框架的全部依赖的外部工具库.这个过程必须服务器安装了git,才能成功地完成安装.</p>

<p>如果你想更新Restler框架, 你可以使用
<code>php composer.phar update</code> 命令来进行更新.</p>

<blockquote>
  <p><strong>注意-</strong>如果你的服务器不允许安装Composer和git, 你可以将Composer和git安装在你的开发机器上面并运行它们.最终生成的文件和文件夹可以上传的，并在服务器上使用.</p>
</blockquote>

<p><a id="3--configure" class="anchor"></a></p>
<h3>3. 配置</h3>

<p>理想情况下,public 文件夹应该放在你的web根目录中, 这不是必须的, 但是推荐这样做，避免列出不需要的文件和文件夹.</p>

<p><a id="4--try-it-out" class="anchor"></a></p>
<h3>4. 尝试它</h3>

<p>尝试你本地的<a href="examples/index.html" target="_blank" title="点击查看本地的案例">案例</a></p>

<p><a id="5--run-some-test" class="anchor"></a></p>
<h3>5. 运行一些检验</h3>

<p>更新项目根目录的<code>behat.yml</code>中<code>base_url</code>的值并尝试下面的命令</p>

<pre><code class="console"><br>bin/behat

</code></pre>

<p>它将检测案例行为的预期, 比如:</p>

<pre><code class="gherkin"><br>Feature: Testing CRUD Example
    Scenario: Creating new Author with JSON
        Given that I want to make a new "Author"
        And his "name" is "Chris"
        And his "email" is "chris@world.com"
        And the request is sent as JSON
        When I request "/examples/_007_crud/authors"
        Then the response status code should be 200
        And the response should be JSON
        And the response has a "id" property

</code></pre>

<p>所有的设置都好了, 快乐的使用Restler! :)</p>

<p><a id="quick-start-guide" class="anchor"></a></p>
<h2>快速入门指南</h2>

<p>只要你通过上面的步骤安装了restler, 你就可以通过下面的几个步骤快速创建你的应用</p>

<p><a id="1--write-api" class="anchor"></a></p>
<h3>1. 写 API</h3>

<p>创建你的<strong>API 类</strong>中所有公开和私有方法</p>

<p><a id="2--open-the-gateway" class="anchor"></a></p>
<h3>2. 打开网关(创建入口文件)</h3>

<p>创建一个 <strong>网关(也可以叫做入口文件) (index.php)</strong> 如下面的代码:</p>

<pre><code class="php">&lt;?php
require_once '../../../vendor/restler.php';
use Luracast\Restler\Restler;

$r = new Restler();
$r-&gt;addAPIClass('YourApiClassNameHere'); // repeat for more
$r-&gt;handle(); //serve the response
</code></pre>

<p><a id="3--prettify-urls" class="anchor"></a></p>
<h3>3. 美化URL</h3>

<p><strong>开启URL 重写(rewrite)</strong></p>

<p>给你的网站开启URL 重写需要确保所有请求都通过index.php(也可以叫做:单一入口应用程序)</p>

<p>比如:-</p>

<p>如果你使用的是Apache,可以使用一个  .htaccess 文件,比如:</p>

<pre><code class="apache">DirectoryIndex index.php
&lt;IfModule mod_rewrite.c&gt;
    RewriteEngine On
 #RewriteBase /   
    RewriteRule ^$ index.php [QSA,L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php [QSA,L]
&lt;/IfModule&gt;
&lt;IfModule mod_php5.c&gt;
    php_flag display_errors On
&lt;/IfModule&gt;
</code></pre>

<blockquote>
  <p><strong>注意:-</strong> 这个请求需要将<code>httpd.conf</code> 文件中的<code>AllowOverride</code> 将<code>None</code>设置为<code>All</code>, 可能在一些服务器上面需要做一些稍微的配置. 可以参考 <a href="http://httpd.apache.org/docs/current/mod/mod_rewrite.html" target="_blank">mod_rewrite</a>
 文档来获取更多信息.</p>
</blockquote>

<p>如果你使用的是<strong class="translation_warn">Nginx</strong>,你必须确定你设置 <code>server_name</code>和通过设置php 脚本为 fast cgi (PHP-FPM) 监听在 127.0.0.1:9000</p>

<pre><code>server {
        listen        80;
        server_name   api.luracast.com; //change it to match your server name

        //... other stuff

        location ~ \.php$ {
            root           /var/www/html;
            fastcgi_pass   127.0.0.1:9000;
            fastcgi_index  index.php;
            fastcgi_param  SCRIPT_FILENAME  /var/www/html/$fastcgi_script_name;
            include        fastcgi_params;
        }

        //... other stuff

}
</code></pre>

<blockquote>
  <p><strong>注意:-</strong>这里要求PHP, PHP-FPM 都已经安装并配置好.
  参考  <a href="http://wiki.nginx.org/PHPFcgiExample" target="_blank" title="Ngnix PHP Fcgi Example">PHP FastCGI</a> 案例来获取更多信息.</p>
</blockquote>

<p><a id="4--customise" class="anchor"></a></p>
<h3>4. 定制</h3>

<p><strong>最后调整选项来适应你的应用程序需求</strong></p>

<pre><code class="php">&lt;?php
require_once '../../../vendor/restler.php';
use Luracast\Restler\Restler;
use Luracast\Restler\Defaults;
//set the defaults to match your requirements
Defaults::$throttle = 20; //time in milliseconds for bandwidth throttling
//setup restler
$r = new Restler();
$r-&gt;addAPIClass('YourApiClassNameHere'); // repeat for more
$r-&gt;addAPIClass('Resources'); //from restler framework for API Explorer
$r-&gt;addFilterClass('RateLimit'); //Add Filters as needed
$r-&gt;handle(); //serve the response
</code></pre>

<p>假如你通过第二步成功的安装,你应该有一个
<a href="https://github.com/Luracast/Restler-API-Explorer" target="_blank">Restler API Explorer</a> 安装在你的
 <code>vendor/Luracast/explorer</code>文件夹中. 创建一个符号链接(Symbolic Links) 指向
<code>vendor/Luracast/explorer/dist</code> 或者复制文件夹并重命名为 <code>explorer</code></p>

<p>替换的explorer文件夹需要 与<code>index.php</code>文件同级</p>

<p>通过浏览器浏览你网站根目录,并尝试打开 <code>explorer/index.html</code>来浏览api</p>

<p>快乐浏览! :)</p>

<blockquote>
  <p><strong>注意:-</strong>使用 eAccelerator 会移除注解会导致restler失败.更多信息可以在<a href="http://wildlyinaccurate.com/eaccelerator-and-doctrine-2" target="_blank">这里</a>找到</p>
</blockquote>

<p><a id="5--annotate" class="anchor"></a></p>
<h3>5. 注解</h3>

<p>Restler supports annotations in the form of PHPDoc comments for API fine tuning</p>

<p>文档的详细资料在 <a href="annotations.html" target="_blank" title="Annotations">Annotations</a>中</p>

<p><a id="6--authorize" class="anchor"></a></p>
<h3>6. 授权(验证)</h3>

<p>为了保护你的api, 验证和允许有效的用户</p>

<pre><code class="php">&lt;?php
require_once '../../../vendor/restler.php';
use Luracast\Restler\Restler;
$r = new Restler();
$r-&gt;addAPIClass('YourApiClassNameHere'); // repeat for more
$r-&gt;addAuthenticationClass('CustomAuth'); //Add Authentication classes as needed
$r-&gt;handle(); //serve the response
</code></pre>

<p><a id="7--start-production" class="anchor"></a></p>
<h3>7. 开始生产(Start Production)</h3>

<p>默认情况下,Restler都是运行在调试模式(debug mode)下,为了能返回更多调试信息给开发者,会显示详细的错误信息和让api返回结果能更好理解</p>

<p> 在开启了生产模式(production mode)的情况下, 你将增加性能的提高,它将会缓存路由(注释只会解析一次,而不是每次api请求时解析) ,
一些其它文件和取消发出调试信息</p>

<pre><code class="php">&lt;?php
require_once '../../../vendor/restler.php';
use Luracast\Restler\Restler;

//setup restler

$r = new Restler(true); //turn on production mode by passing true.
//If you are using file based cache (the default) make sure cache folder is
//writable. when you make changes to your code make sure you delete the
// routes.php inside the cache folder
//...
</code></pre>

<p><a id="change-log" class="anchor"></a></p>
<h2>变更记录</h2>

<p><a id="restler-3-0-rc5" class="anchor"></a></p>
<h3>Restler 3.0 RC5</h3>

<ul>
<li>适用范围(依赖注入容器)添加. It's register method allows adding api classes that has some dependencies.</li>
<li>Improves HtmlFormat to support blade templates and makes it easily extendable to add your own templates.</li>
<li>HtmlFormat::$format has been renamed as HtmlFormat::$template for better clarrity</li>
<li>HtmlFormat now supports auto templating to load relevant template for an API method based on the mapped url.</li>
<li>Tag, a utility class for generating html tags in object oriented way.</li>
<li>Emmet class that extends a subset of emmet to create a a template engine.</li>
<li>Forms class to auto generate forms for any API method prebuilt in HTML5, Twitter Bootstrap 3, Zurb Foundation formats.</li>
<li>Validator improved to allow suppressing validation errors from throwing exceptions immediatly, so that API call can reach the API method</li>
<li>Validator improved to be form validation friendly.</li>
<li>Nav class creating html navigation interface.</li>
<li>OAuth examles updgrated to use version 1.0 of OAuth2 library.</li>
<li>Many bug fixes and improvements.</li>
</ul>
<p><a id="restler-3-0-rc4" class="anchor"></a></p>
<h3>Restler 3.0 RC4</h3>

<ul>
<li>
<code>$reques_data</code> in api method parameters and <code>getRequestData()</code> on restler
instance now excludes <code>$_GET</code> parameters.</li>
<li>Returning null from api method now excludes the response body. This behaviour
can be changed by setting <code>Defaults::$emptyBodyForNullResponse</code> to false.</li>
<li>Added many api examples under tests folder for testing feature by feature
using BDD</li>
<li>Support for custom class parameters and array of custom class parameters</li>
<li>Ability to pass the parameter directly as the body of the request when it is
the only parameter</li>
<li>Fixes to composer.json and publish stable release as composer package on
packagist.</li>
<li>New Routes class with improved routing, including wild card routes and smart
routing based on paramter type.</li>
<li>Possibility to use any autoloader including composer's autoloader for maximum
interoperability</li>
<li>Moved to using the <a href="https://packagist.org/packages/rodneyrehm/plist" target="_blank">rodneyrehm/plist</a>
package for CFPropertyList.</li>
<li>Removed required packages as they are not technically "required" per se,
Restler works out of the box.</li>
<li>Created supported packages as require-dev instead which will be installed via
<code>composer install --dev</code>
</li>
<li>Added suggested section for all the supported packages.</li>
<li>Added keywords to package descriptor</li>
<li>Added branch alias to indicate that v3 is the snapshot for v3.0.x-dev</li>
<li>Released Restler as package on packagist.</li>
</ul>
<p><a id="restler-3-0-rc3" class="anchor"></a></p>
<h3>Restler 3.0 RC3</h3>

<ul>
<li>Added Defaults::$cacheDirectory to set cache directory in one central place</li>
<li>Added JSONP support with JsFormat class by extending JsonFormat.</li>
<li>Fixes fatal error when the JSON sent in the request body is not an object or
array</li>
<li>Improves inline comment parsing by array conversion when delimiter is found
and tag is not @pattern</li>
<li>RateLimit class re-written to support all range of time units
second|minute|hour|day|week|month to have fine grained control</li>
<li>Resources class improved to include description for body parameters</li>
<li>Fixes Resources not to include namespace when the return type is array of
custom class</li>
<li>Fixed Resource not to include the API of another class when the current api
name is a begins with part of the other API</li>
<li>Added two more ways to exclude API's from explorer/documentation

<ul>
<li>
<code>Resources::$excludedHttpMethods</code> (array)</li>
<li>
<code>Resources::$excludedPaths</code> (array)</li>
</ul>
</li>
<li>Fixes unescaped unicode bug in PHP &lt; 5.4</li>
<li>Fixes a bug with ValidationInfo parsing @choice inline comment</li>
<li>Added Charset support</li>
<li>Added Language (basic) support</li>
<li>Updated the BDD tests to include new features</li>
<li>Fixes a bug in Restler class which affects $_GET overriding <code>Defaults</code>
</li>
<li>Fixes a bug in XmlFormat parsing XML content to array</li>
<li>Added support for JSONP via jsFormat extension of JsonFormat</li>
<li>Fixes a bug in unicode un-escaping for JsonFormat in PHP &lt; 5.4</li>
<li>Fixes the order so that responseFormat-&gt;setCharset is called before encoding
the response</li>
<li>Documentation improvements and minor bug fixes</li>
</ul>
<p><a id="restler-3-0-rc2" class="anchor"></a></p>
<h3>Restler 3.0 RC2</h3>

<ul>
<li>Filter classes can use authentication status and respond differently for
authenticated users by implementing iUseAuthentication interface</li>
<li>
<code>RateLimit</code> class added to rate limit the api usage</li>
<li>Fixed a bug with setCompatibilityMode</li>
<li>Resources updated to use only paths for resource identification instead of
class name

<ul>
<li>Enabled Access Control for Documentation</li>
</ul>
</li>
<li>Fixed CommentParser to ignore repeated white space so that it parses comments
correctly</li>
<li>Fixed comment parsing for @status and @expires tags</li>
<li>Added the following Examples

<ul>
<li>Documentation</li>
<li>Rate Limit</li>
<li>Access Control</li>
</ul>
</li>
<li>CRUD example updated to include PATCH support</li>
</ul>
<p><a id="restler-3-0" class="anchor"></a></p>
<h3>Restler 3.0</h3>

<p><strong>Restler 3.0</strong> is completely rewritten from Restler 2.0 with best practices in
mind for</p>

<ul>
<li>PHP Coding</li>
<li>RESTfulness and/or Pragmatic REST</li>
<li>API Design</li>
</ul>
<p><strong>Restler 3.0</strong></p>

<ul>
<li>uses namespaces, Late Static Bindings, and Closures and thus it is <strong>PHP 5.3+</strong>
only (if you need <strong>PHP 5.0+</strong> support use <a href="https://github.com/Luracast/Restler/tree/v2" target="_blank">Restler 2</a>)</li>
<li>provides backward compatibility for Restler 1 and 2.
Use <code>$r-&gt;setCompatibilityMode($version);</code>
</li>
<li>supports hybrid api which provides extended data to authenticated users
Use <code>@access hybrid</code> PHPDoc comment</li>
<li>uses smart auto routing by default where API method parameters that
have default values are no longer mapped to the URL, instead they are
mapped to query strings to reduce ambiguity in the url.</li>
<li>supports <code>suppress_response_codes</code> as query string, when set to true;
all http responses will be returned with HTTP OK with the errors in the
body to accommodate mobile and less privileged clients.</li>
<li>has improved <code>CommentParser</code> which adds support for embedded data in multiple
formats

<ul>
<li>inline doc comments <code>{@name value}</code>
</li>
<li>query string params ``` param1=value&amp;param2=value2```</li>
<li>json ``` {"param1": value, "param2": value2}``` which can be placed
in multi-lines</li>
</ul>
</li>
<li>has <code>Defaults</code> class with static properties that can be changed to suit the
needs</li>
<li>iAuthenticate is now using <code>__isAllowed</code> method instead of <code>__isAuthenticated</code>
so that same
class can be used for Authentication or Filtering</li>
<li>iUseAuthentication interface added to help hybrid access api methods and
filters to find out about user authentication status</li>
<li>iFilter interface updated to provide charset support</li>
<li>...(more to follow)</li>
</ul>
<p><a id="restler-2-0" class="anchor"></a></p>
<h3>Restler 2.0</h3>

<p>Restler 2.0 is a major rewrite to use convention over configuration and it is
optimized for performance. Here are some of the major changes and improvements</p>

<ul>
<li>PHPDoc comments to map a method to URI are now optional.</li>
<li>All public methods that does not begin with an underscore are mapped
automatically to the method name (<code>gateway\classname\methodname\param1\...</code>)</li>
<li>If we do not specify the second parameter for
<code>$restler-&gt;addAPIClass</code> it will be mapped to the class name instead of mapping
it to the root</li>
<li>Restler 2 is written for PHP 5.3 and above but it make use of compat.php and
work on any version of PHP starting from PHP 5.0</li>
</ul>

</article>
</body>
</html>
